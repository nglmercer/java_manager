const s="/",r=new Map,o={value:s,ROOT_PATH:s,setPath(t){this.value=t},getPath(){return this.value}};function f(t){if(!t)return s;const n=typeof window<"u"?window.selectedServer:null;if(r.has(t))return r.get(t);let e=t.replace(/\\/g,"/");if(e=e.replace(/\/{2,}/g,"/"),n&&n.trim()!==""){const u=n.trim(),g=e.split("/").filter(i=>i!==""),l=[];let a="";for(const i of g)(i!==a||i!==u)&&l.push(i),a=i;e=l.length>0?"/"+l.join("/"):s}return e!==s&&!e.startsWith(s)&&(e=s+e),e!==s&&e.endsWith("/")&&e.length>1&&(e=e.slice(0,-1)),e===""&&t&&t.length>0&&(e=s),r.set(t,e||s),e||s}function h(t,n){return n.startsWith(t+"/")?{directoryname:t,filename:n.substring(t.length+1)}:n.startsWith("/"+t+"/")?{directoryname:t,filename:n.substring(t.length+2)}:{directoryname:t,filename:n}}export{o as D,s as R,h as a,f as n};
